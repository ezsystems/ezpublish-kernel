parameters:
    ezpublish.search.field_registry.class: eZ\Publish\Core\Search\FieldRegistry
    ezpublish.search.field_name_generator.class: eZ\Publish\Core\Search\FieldNameGenerator
    ezpublish.search.field_name_resolver.class: eZ\Publish\Core\Search\FieldNameResolver

services:
    # Note: services tagged with 'ezpublish.fieldType.indexable'
    # are registered to this one using compilation pass
    ezpublish.search.field_registry:
        class: %ezpublish.search.field_registry.class%

    # Mapping for our internal search field types
    ezpublish.search.field_name_generator:
        class: %ezpublish.search.field_name_generator.class%
        arguments:
            -
                ez_integer: 'i'
                ez_id: 'id'
                ez_mid: 'mid'
                ez_string: 's'
                ez_mstring: 'ms'
                ez_long: 'l'
                ez_text: 't'
                ez_html: 'h'
                ez_boolean: 'b'
                ez_mboolean: 'mb'
                ez_float: 'f'
                ez_double: 'd'
                ez_date: 'dt'
                ez_point: 'p'
                ez_currency: 'c'
                ez_geolocation: 'gl'
                ez_document: 'doc'

    ezpublish.search.field_name_resolver:
        class: %ezpublish.search.field_name_resolver.class%
        arguments:
            - @ezpublish.search.field_registry
            - @ezpublish.spi.persistence_handler.content_type
            - @ezpublish.search.field_name_generator
