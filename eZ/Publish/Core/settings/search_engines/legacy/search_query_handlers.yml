parameters:
    # Criterion handler classes
    # Common
    ezpublish.persistence.legacy.search.gateway.criteria_converter.class: eZ\Publish\Core\Persistence\Legacy\Content\Search\Common\Gateway\CriteriaConverter
    ezpublish.persistence.legacy.search.gateway.criterion_handler.common.content_id.class: eZ\Publish\Core\Persistence\Legacy\Content\Search\Common\Gateway\CriterionHandler\ContentId
    ezpublish.persistence.legacy.search.gateway.criterion_handler.common.content_type_group_id.class: eZ\Publish\Core\Persistence\Legacy\Content\Search\Common\Gateway\CriterionHandler\ContentTypeGroupId
    ezpublish.persistence.legacy.search.gateway.criterion_handler.common.content_type_id.class: eZ\Publish\Core\Persistence\Legacy\Content\Search\Common\Gateway\CriterionHandler\ContentTypeId
    ezpublish.persistence.legacy.search.gateway.criterion_handler.common.content_type_identifier.class: eZ\Publish\Core\Persistence\Legacy\Content\Search\Common\Gateway\CriterionHandler\ContentTypeIdentifier
    ezpublish.persistence.legacy.search.gateway.criterion_handler.common.date_metadata.class: eZ\Publish\Core\Persistence\Legacy\Content\Search\Common\Gateway\CriterionHandler\DateMetadata
    ezpublish.persistence.legacy.search.gateway.criterion_handler.common.field.class: eZ\Publish\Core\Persistence\Legacy\Content\Search\Common\Gateway\CriterionHandler\Field
    ezpublish.persistence.legacy.search.gateway.criterion_handler.common.full_text.class: eZ\Publish\Core\Persistence\Legacy\Content\Search\Common\Gateway\CriterionHandler\FullText
    ezpublish.persistence.legacy.search.gateway.criterion_handler.common.language_code.class: eZ\Publish\Core\Persistence\Legacy\Content\Search\Common\Gateway\CriterionHandler\LanguageCode
    ezpublish.persistence.legacy.search.gateway.criterion_handler.common.logical_and.class: eZ\Publish\Core\Persistence\Legacy\Content\Search\Common\Gateway\CriterionHandler\LogicalAnd
    ezpublish.persistence.legacy.search.gateway.criterion_handler.common.logical_not.class: eZ\Publish\Core\Persistence\Legacy\Content\Search\Common\Gateway\CriterionHandler\LogicalNot
    ezpublish.persistence.legacy.search.gateway.criterion_handler.common.logical_or.class: eZ\Publish\Core\Persistence\Legacy\Content\Search\Common\Gateway\CriterionHandler\LogicalOr
    ezpublish.persistence.legacy.search.gateway.criterion_handler.common.map_location_distance.class: eZ\Publish\Core\Persistence\Legacy\Content\Search\Common\Gateway\CriterionHandler\MapLocationDistance
    ezpublish.persistence.legacy.search.gateway.criterion_handler.common.match_all.class: eZ\Publish\Core\Persistence\Legacy\Content\Search\Common\Gateway\CriterionHandler\MatchAll
    ezpublish.persistence.legacy.search.gateway.criterion_handler.common.match_none.class: eZ\Publish\Core\Persistence\Legacy\Content\Search\Common\Gateway\CriterionHandler\MatchNone
    ezpublish.persistence.legacy.search.gateway.criterion_handler.common.object_state_id.class: eZ\Publish\Core\Persistence\Legacy\Content\Search\Common\Gateway\CriterionHandler\ObjectStateId
    ezpublish.persistence.legacy.search.gateway.criterion_handler.common.field_relation.class: eZ\Publish\Core\Persistence\Legacy\Content\Search\Common\Gateway\CriterionHandler\FieldRelation
    ezpublish.persistence.legacy.search.gateway.criterion_handler.common.remote_id.class: eZ\Publish\Core\Persistence\Legacy\Content\Search\Common\Gateway\CriterionHandler\RemoteId
    ezpublish.persistence.legacy.search.gateway.criterion_handler.common.section_id.class: eZ\Publish\Core\Persistence\Legacy\Content\Search\Common\Gateway\CriterionHandler\SectionId
    ezpublish.persistence.legacy.search.gateway.criterion_handler.common.user_metadata.class: eZ\Publish\Core\Persistence\Legacy\Content\Search\Common\Gateway\CriterionHandler\UserMetadata
    # Content
    ezpublish.persistence.legacy.search.gateway.criterion_handler.content.depth.class: eZ\Publish\Core\Persistence\Legacy\Content\Search\Gateway\CriterionHandler\Depth
    ezpublish.persistence.legacy.search.gateway.criterion_handler.content.location_id.class: eZ\Publish\Core\Persistence\Legacy\Content\Search\Gateway\CriterionHandler\LocationId
    ezpublish.persistence.legacy.search.gateway.criterion_handler.content.location_priority.class: eZ\Publish\Core\Persistence\Legacy\Content\Search\Gateway\CriterionHandler\LocationPriority
    ezpublish.persistence.legacy.search.gateway.criterion_handler.content.location_remote_id.class: eZ\Publish\Core\Persistence\Legacy\Content\Search\Gateway\CriterionHandler\LocationRemoteId
    ezpublish.persistence.legacy.search.gateway.criterion_handler.content.parent_location_id.class: eZ\Publish\Core\Persistence\Legacy\Content\Search\Gateway\CriterionHandler\ParentLocationId
    ezpublish.persistence.legacy.search.gateway.criterion_handler.content.subtree.class: eZ\Publish\Core\Persistence\Legacy\Content\Search\Gateway\CriterionHandler\Subtree
    ezpublish.persistence.legacy.search.gateway.criterion_handler.content.permission_subtree.class: eZ\Publish\Core\Persistence\Legacy\Content\Search\Gateway\CriterionHandler\PermissionSubtree
    ezpublish.persistence.legacy.search.gateway.criterion_handler.content.visibility.class: eZ\Publish\Core\Persistence\Legacy\Content\Search\Gateway\CriterionHandler\Visibility
    # Location
    ezpublish.persistence.legacy.search.gateway.criterion_handler.location.depth.class: eZ\Publish\Core\Persistence\Legacy\Content\Search\Location\Gateway\CriterionHandler\Location\Depth
    ezpublish.persistence.legacy.search.gateway.criterion_handler.location.location_id.class: eZ\Publish\Core\Persistence\Legacy\Content\Search\Location\Gateway\CriterionHandler\LocationId
    ezpublish.persistence.legacy.search.gateway.criterion_handler.location.is_main_location.class: eZ\Publish\Core\Persistence\Legacy\Content\Search\Location\Gateway\CriterionHandler\Location\IsMainLocation
    ezpublish.persistence.legacy.search.gateway.criterion_handler.location.parent_location_id.class: eZ\Publish\Core\Persistence\Legacy\Content\Search\Location\Gateway\CriterionHandler\ParentLocationId
    ezpublish.persistence.legacy.search.gateway.criterion_handler.location.priority.class: eZ\Publish\Core\Persistence\Legacy\Content\Search\Location\Gateway\CriterionHandler\Location\Priority
    ezpublish.persistence.legacy.search.gateway.criterion_handler.location.location_remote_id.class: eZ\Publish\Core\Persistence\Legacy\Content\Search\Location\Gateway\CriterionHandler\LocationRemoteId
    ezpublish.persistence.legacy.search.gateway.criterion_handler.location.subtree.class: eZ\Publish\Core\Persistence\Legacy\Content\Search\Location\Gateway\CriterionHandler\Subtree
    ezpublish.persistence.legacy.search.gateway.criterion_handler.location.visibility.class: eZ\Publish\Core\Persistence\Legacy\Content\Search\Location\Gateway\CriterionHandler\Visibility

    # Criterion field value handler classes
    ezpublish.persistence.legacy.search.gateway.criterion_field_value_converter.class: eZ\Publish\Core\Persistence\Legacy\Content\Search\Common\Gateway\CriterionHandler\FieldValue\Converter
    ezpublish.persistence.legacy.search.gateway.criterion_field_value_handler.registry.class: eZ\Publish\Core\Persistence\Legacy\Content\Search\Common\Gateway\CriterionHandler\FieldValue\HandlerRegistry
    ezpublish.persistence.legacy.search.gateway.criterion_field_value_handler.collection.class: eZ\Publish\Core\Persistence\Legacy\Content\Search\Common\Gateway\CriterionHandler\FieldValue\Handler\Collection
    ezpublish.persistence.legacy.search.gateway.criterion_field_value_handler.composite.class: eZ\Publish\Core\Persistence\Legacy\Content\Search\Common\Gateway\CriterionHandler\FieldValue\Handler\Composite
    ezpublish.persistence.legacy.search.gateway.criterion_field_value_handler.simple.class: eZ\Publish\Core\Persistence\Legacy\Content\Search\Common\Gateway\CriterionHandler\FieldValue\Handler\Simple

    # Sort clause handler classes
    # Common
    ezpublish.persistence.legacy.search.gateway.sort_clause_converter.class: eZ\Publish\Core\Persistence\Legacy\Content\Search\Common\Gateway\SortClauseConverter
    ezpublish.persistence.legacy.search.gateway.sort_clause_handler.common.content_id.class: eZ\Publish\Core\Persistence\Legacy\Content\Search\Common\Gateway\SortClauseHandler\ContentId
    ezpublish.persistence.legacy.search.gateway.sort_clause_handler.common.content_name.class: eZ\Publish\Core\Persistence\Legacy\Content\Search\Common\Gateway\SortClauseHandler\ContentName
    ezpublish.persistence.legacy.search.gateway.sort_clause_handler.common.date_modified.class: eZ\Publish\Core\Persistence\Legacy\Content\Search\Common\Gateway\SortClauseHandler\DateModified
    ezpublish.persistence.legacy.search.gateway.sort_clause_handler.common.date_published.class: eZ\Publish\Core\Persistence\Legacy\Content\Search\Common\Gateway\SortClauseHandler\DatePublished
    ezpublish.persistence.legacy.search.gateway.sort_clause_handler.common.field.class: eZ\Publish\Core\Persistence\Legacy\Content\Search\Common\Gateway\SortClauseHandler\Field
    ezpublish.persistence.legacy.search.gateway.sort_clause_handler.common.map_location_distance.class: eZ\Publish\Core\Persistence\Legacy\Content\Search\Common\Gateway\SortClauseHandler\MapLocationDistance
    ezpublish.persistence.legacy.search.gateway.sort_clause_handler.common.section_identifier.class: eZ\Publish\Core\Persistence\Legacy\Content\Search\Common\Gateway\SortClauseHandler\SectionIdentifier
    ezpublish.persistence.legacy.search.gateway.sort_clause_handler.common.section_name.class: eZ\Publish\Core\Persistence\Legacy\Content\Search\Common\Gateway\SortClauseHandler\SectionName
    # Content
    ezpublish.persistence.legacy.search.gateway.sort_clause_handler.content.location_depth.class: eZ\Publish\Core\Persistence\Legacy\Content\Search\Gateway\SortClauseHandler\LocationDepth
    ezpublish.persistence.legacy.search.gateway.sort_clause_handler.content.location_path_string.class: eZ\Publish\Core\Persistence\Legacy\Content\Search\Gateway\SortClauseHandler\LocationPathString
    ezpublish.persistence.legacy.search.gateway.sort_clause_handler.content.location_priority.class: eZ\Publish\Core\Persistence\Legacy\Content\Search\Gateway\SortClauseHandler\LocationPriority
    # Location
    ezpublish.persistence.legacy.search.gateway.sort_clause_handler.location.id.class: eZ\Publish\Core\Persistence\Legacy\Content\Search\Location\Gateway\SortClauseHandler\Location\Id
    ezpublish.persistence.legacy.search.gateway.sort_clause_handler.location.depth.class: eZ\Publish\Core\Persistence\Legacy\Content\Search\Location\Gateway\SortClauseHandler\Location\Depth
    ezpublish.persistence.legacy.search.gateway.sort_clause_handler.location.path.class: eZ\Publish\Core\Persistence\Legacy\Content\Search\Location\Gateway\SortClauseHandler\Location\Path
    ezpublish.persistence.legacy.search.gateway.sort_clause_handler.location.is_main_location.class: eZ\Publish\Core\Persistence\Legacy\Content\Search\Location\Gateway\SortClauseHandler\Location\IsMainLocation
    ezpublish.persistence.legacy.search.gateway.sort_clause_handler.location.priority.class: eZ\Publish\Core\Persistence\Legacy\Content\Search\Location\Gateway\SortClauseHandler\Location\Priority
    ezpublish.persistence.legacy.search.gateway.sort_clause_handler.location.visibility.class: eZ\Publish\Core\Persistence\Legacy\Content\Search\Location\Gateway\SortClauseHandler\Location\Visibility

services:
    ezpublish.persistence.legacy.search.gateway.criterion_handler.base:
        abstract: true
        arguments: [@ezpublish.api.storage_engine.legacy.dbhandler]

    ezpublish.persistence.legacy.search.gateway.criterion_field_value_handler.base:
        abstract: true
        arguments:
            - @ezpublish.api.storage_engine.legacy.dbhandler
            - @ezpublish.api.storage_engine.transformation_processor

    # Note: services tagged with 'ezpublish.persistence.legacy.search.gateway.criterion_field_value_handler'
    # are registered to this one using compilation pass
    ezpublish.persistence.legacy.search.gateway.criterion_field_value_handler.registry:
        class: %ezpublish.persistence.legacy.search.gateway.criterion_field_value_handler.registry.class%

    ezpublish.persistence.legacy.search.gateway.criterion_field_value_converter:
        class: %ezpublish.persistence.legacy.search.gateway.criterion_field_value_converter.class%
        arguments:
            - @ezpublish.persistence.legacy.search.gateway.criterion_field_value_handler.registry
            - @ezpublish.persistence.legacy.search.gateway.criterion_field_value_handler.default

    ezpublish.persistence.legacy.search.gateway.sort_clause_handler.base:
        abstract: true
        arguments: [@ezpublish.api.storage_engine.legacy.dbhandler]

    # Note: services tagged with:
    #  - ezpublish.persistence.legacy.search.gateway.criterion_handler.content
    #  - ezpublish.persistence.legacy.search.gateway.criterion_handler.common
    # are registered to this one using compilation pass
    ezpublish.persistence.legacy.search.gateway.criteria_converter.content:
        class: %ezpublish.persistence.legacy.search.gateway.criteria_converter.class%

    # Note: services tagged with:
    #  - ezpublish.persistence.legacy.search.gateway.criterion_handler.location
    #  - ezpublish.persistence.legacy.search.gateway.criterion_handler.common
    # are registered to this one using compilation pass
    ezpublish.persistence.legacy.search.gateway.criteria_converter.location:
        class: %ezpublish.persistence.legacy.search.gateway.criteria_converter.class%

    # Note: services tagged with:
    #  - ezpublish.persistence.legacy.search.gateway.sort_clause_handler.content
    #  - ezpublish.persistence.legacy.search.gateway.sort_clause_handler.common
    # are registered to this one using compilation pass
    ezpublish.persistence.legacy.search.gateway.sort_clause_converter.content:
        class: %ezpublish.persistence.legacy.search.gateway.sort_clause_converter.class%

    # Note: services tagged with:
    #  - ezpublish.persistence.legacy.search.gateway.sort_clause_handler.location
    #  - ezpublish.persistence.legacy.search.gateway.sort_clause_handler.common
    # are registered to this one using compilation pass
    ezpublish.persistence.legacy.search.gateway.sort_clause_converter.location:
        class: %ezpublish.persistence.legacy.search.gateway.sort_clause_converter.class%

    # Criterion handler classes
    # Common
    ezpublish.persistence.legacy.search.gateway.criterion_handler.common.content_id:
        parent: ezpublish.persistence.legacy.search.gateway.criterion_handler.base
        class: %ezpublish.persistence.legacy.search.gateway.criterion_handler.common.content_id.class%
        tags:
            - {name: ezpublish.persistence.legacy.search.gateway.criterion_handler.content}
            - {name: ezpublish.persistence.legacy.search.gateway.criterion_handler.location}

    ezpublish.persistence.legacy.search.gateway.criterion_handler.common.content_type_group_id:
        parent: ezpublish.persistence.legacy.search.gateway.criterion_handler.base
        class: %ezpublish.persistence.legacy.search.gateway.criterion_handler.common.content_type_group_id.class%
        tags:
            - {name: ezpublish.persistence.legacy.search.gateway.criterion_handler.content}
            - {name: ezpublish.persistence.legacy.search.gateway.criterion_handler.location}

    ezpublish.persistence.legacy.search.gateway.criterion_handler.common.content_type_id:
        parent: ezpublish.persistence.legacy.search.gateway.criterion_handler.base
        class: %ezpublish.persistence.legacy.search.gateway.criterion_handler.common.content_type_id.class%
        tags:
            - {name: ezpublish.persistence.legacy.search.gateway.criterion_handler.content}
            - {name: ezpublish.persistence.legacy.search.gateway.criterion_handler.location}

    ezpublish.persistence.legacy.search.gateway.criterion_handler.common.content_type_identifier:
        parent: ezpublish.persistence.legacy.search.gateway.criterion_handler.base
        class: %ezpublish.persistence.legacy.search.gateway.criterion_handler.common.content_type_identifier.class%
        tags:
            - {name: ezpublish.persistence.legacy.search.gateway.criterion_handler.content}
            - {name: ezpublish.persistence.legacy.search.gateway.criterion_handler.location}

    ezpublish.persistence.legacy.search.gateway.criterion_handler.common.date_metadata:
        parent: ezpublish.persistence.legacy.search.gateway.criterion_handler.base
        class: %ezpublish.persistence.legacy.search.gateway.criterion_handler.common.date_metadata.class%
        tags:
            - {name: ezpublish.persistence.legacy.search.gateway.criterion_handler.content}
            - {name: ezpublish.persistence.legacy.search.gateway.criterion_handler.location}

    ezpublish.persistence.legacy.search.gateway.criterion_handler.common.field:
        class: %ezpublish.persistence.legacy.search.gateway.criterion_handler.common.field.class%
        arguments:
            - @ezpublish.api.storage_engine.legacy.dbhandler
            - @ezpublish.persistence.legacy.field_value_converter.registry
            - @ezpublish.persistence.legacy.search.gateway.criterion_field_value_converter
            - @ezpublish.api.storage_engine.transformation_processor
        tags:
            - {name: ezpublish.persistence.legacy.search.gateway.criterion_handler.content}
            - {name: ezpublish.persistence.legacy.search.gateway.criterion_handler.location}

    ezpublish.persistence.legacy.search.gateway.criterion_handler.common.full_text:
        class: %ezpublish.persistence.legacy.search.gateway.criterion_handler.common.full_text.class%
        arguments:
            - @ezpublish.api.storage_engine.legacy.dbhandler
            - @ezpublish.api.storage_engine.transformation_processor
        tags:
            - {name: ezpublish.persistence.legacy.search.gateway.criterion_handler.content}
            - {name: ezpublish.persistence.legacy.search.gateway.criterion_handler.location}

    ezpublish.persistence.legacy.search.gateway.criterion_handler.common.language_code:
        class: %ezpublish.persistence.legacy.search.gateway.criterion_handler.common.language_code.class%
        arguments:
            - @ezpublish.api.storage_engine.legacy.dbhandler
            - @ezpublish.persistence.legacy.language.mask_generator
        tags:
            - {name: ezpublish.persistence.legacy.search.gateway.criterion_handler.content}
            - {name: ezpublish.persistence.legacy.search.gateway.criterion_handler.location}

    ezpublish.persistence.legacy.search.gateway.criterion_handler.common.logical_and:
        parent: ezpublish.persistence.legacy.search.gateway.criterion_handler.base
        class: %ezpublish.persistence.legacy.search.gateway.criterion_handler.common.logical_and.class%
        tags:
            - {name: ezpublish.persistence.legacy.search.gateway.criterion_handler.content}
            - {name: ezpublish.persistence.legacy.search.gateway.criterion_handler.location}

    ezpublish.persistence.legacy.search.gateway.criterion_handler.common.logical_not:
        parent: ezpublish.persistence.legacy.search.gateway.criterion_handler.base
        class: %ezpublish.persistence.legacy.search.gateway.criterion_handler.common.logical_not.class%
        tags:
            - {name: ezpublish.persistence.legacy.search.gateway.criterion_handler.content}
            - {name: ezpublish.persistence.legacy.search.gateway.criterion_handler.location}

    ezpublish.persistence.legacy.search.gateway.criterion_handler.common.logical_or:
        parent: ezpublish.persistence.legacy.search.gateway.criterion_handler.base
        class: %ezpublish.persistence.legacy.search.gateway.criterion_handler.common.logical_or.class%
        tags:
            - {name: ezpublish.persistence.legacy.search.gateway.criterion_handler.content}
            - {name: ezpublish.persistence.legacy.search.gateway.criterion_handler.location}

    ezpublish.persistence.legacy.search.gateway.criterion_handler.common.map_location_distance:
        parent: ezpublish.persistence.legacy.search.gateway.criterion_handler.base
        class: %ezpublish.persistence.legacy.search.gateway.criterion_handler.common.map_location_distance.class%
        tags:
            - {name: ezpublish.persistence.legacy.search.gateway.criterion_handler.content}
            - {name: ezpublish.persistence.legacy.search.gateway.criterion_handler.location}

    ezpublish.persistence.legacy.search.gateway.criterion_handler.common.match_all:
        parent: ezpublish.persistence.legacy.search.gateway.criterion_handler.base
        class: %ezpublish.persistence.legacy.search.gateway.criterion_handler.common.match_all.class%
        tags:
            - {name: ezpublish.persistence.legacy.search.gateway.criterion_handler.content}
            - {name: ezpublish.persistence.legacy.search.gateway.criterion_handler.location}

    ezpublish.persistence.legacy.search.gateway.criterion_handler.common.match_none:
        parent: ezpublish.persistence.legacy.search.gateway.criterion_handler.base
        class: %ezpublish.persistence.legacy.search.gateway.criterion_handler.common.match_none.class%
        tags:
            - {name: ezpublish.persistence.legacy.search.gateway.criterion_handler.content}
            - {name: ezpublish.persistence.legacy.search.gateway.criterion_handler.location}

    ezpublish.persistence.legacy.search.gateway.criterion_handler.common.object_state_id:
        parent: ezpublish.persistence.legacy.search.gateway.criterion_handler.base
        class: %ezpublish.persistence.legacy.search.gateway.criterion_handler.common.object_state_id.class%
        tags:
            - {name: ezpublish.persistence.legacy.search.gateway.criterion_handler.content}
            - {name: ezpublish.persistence.legacy.search.gateway.criterion_handler.location}

    ezpublish.persistence.legacy.search.gateway.criterion_handler.common.field_relation:
        parent: ezpublish.persistence.legacy.search.gateway.criterion_handler.base
        class: %ezpublish.persistence.legacy.search.gateway.criterion_handler.common.field_relation.class%
        tags:
            - {name: ezpublish.persistence.legacy.search.gateway.criterion_handler.content}
            - {name: ezpublish.persistence.legacy.search.gateway.criterion_handler.location}

    ezpublish.persistence.legacy.search.gateway.criterion_handler.common.remote_id:
        parent: ezpublish.persistence.legacy.search.gateway.criterion_handler.base
        class: %ezpublish.persistence.legacy.search.gateway.criterion_handler.common.remote_id.class%
        tags:
            - {name: ezpublish.persistence.legacy.search.gateway.criterion_handler.content}
            - {name: ezpublish.persistence.legacy.search.gateway.criterion_handler.location}

    ezpublish.persistence.legacy.search.gateway.criterion_handler.common.section_id:
        parent: ezpublish.persistence.legacy.search.gateway.criterion_handler.base
        class: %ezpublish.persistence.legacy.search.gateway.criterion_handler.common.section_id.class%
        tags:
            - {name: ezpublish.persistence.legacy.search.gateway.criterion_handler.content}
            - {name: ezpublish.persistence.legacy.search.gateway.criterion_handler.location}

    ezpublish.persistence.legacy.search.gateway.criterion_handler.common.user_metadata:
        parent: ezpublish.persistence.legacy.search.gateway.criterion_handler.base
        class: %ezpublish.persistence.legacy.search.gateway.criterion_handler.common.user_metadata.class%
        tags:
            - {name: ezpublish.persistence.legacy.search.gateway.criterion_handler.content}
            - {name: ezpublish.persistence.legacy.search.gateway.criterion_handler.location}

    # Content
    ezpublish.persistence.legacy.search.gateway.criterion_handler.content.depth:
        parent: ezpublish.persistence.legacy.search.gateway.criterion_handler.base
        class: %ezpublish.persistence.legacy.search.gateway.criterion_handler.content.depth.class%
        tags:
            - {name: ezpublish.persistence.legacy.search.gateway.criterion_handler.content}

    ezpublish.persistence.legacy.search.gateway.criterion_handler.content.location_id:
        parent: ezpublish.persistence.legacy.search.gateway.criterion_handler.base
        class: %ezpublish.persistence.legacy.search.gateway.criterion_handler.content.location_id.class%
        tags:
            - {name: ezpublish.persistence.legacy.search.gateway.criterion_handler.content}

    ezpublish.persistence.legacy.search.gateway.criterion_handler.content.location_priority:
        parent: ezpublish.persistence.legacy.search.gateway.criterion_handler.base
        class: %ezpublish.persistence.legacy.search.gateway.criterion_handler.content.location_priority.class%
        tags:
            - {name: ezpublish.persistence.legacy.search.gateway.criterion_handler.content}

    ezpublish.persistence.legacy.search.gateway.criterion_handler.content.location_remote_id:
        parent: ezpublish.persistence.legacy.search.gateway.criterion_handler.base
        class: %ezpublish.persistence.legacy.search.gateway.criterion_handler.content.location_remote_id.class%
        tags:
            - {name: ezpublish.persistence.legacy.search.gateway.criterion_handler.content}

    ezpublish.persistence.legacy.search.gateway.criterion_handler.content.parent_location_id:
        parent: ezpublish.persistence.legacy.search.gateway.criterion_handler.base
        class: %ezpublish.persistence.legacy.search.gateway.criterion_handler.content.parent_location_id.class%
        tags:
            - {name: ezpublish.persistence.legacy.search.gateway.criterion_handler.content}

    ezpublish.persistence.legacy.search.gateway.criterion_handler.content.subtree:
        parent: ezpublish.persistence.legacy.search.gateway.criterion_handler.base
        class: %ezpublish.persistence.legacy.search.gateway.criterion_handler.content.subtree.class%
        tags:
            - {name: ezpublish.persistence.legacy.search.gateway.criterion_handler.content}

    ezpublish.persistence.legacy.search.gateway.criterion_handler.content.permission_subtree:
        parent: ezpublish.persistence.legacy.search.gateway.criterion_handler.base
        class: %ezpublish.persistence.legacy.search.gateway.criterion_handler.content.permission_subtree.class%
        tags:
            - {name: ezpublish.persistence.legacy.search.gateway.criterion_handler.content}

    ezpublish.persistence.legacy.search.gateway.criterion_handler.content.visibility:
        parent: ezpublish.persistence.legacy.search.gateway.criterion_handler.base
        class: %ezpublish.persistence.legacy.search.gateway.criterion_handler.content.visibility.class%
        tags:
            - {name: ezpublish.persistence.legacy.search.gateway.criterion_handler.content}

    # Location
    ezpublish.persistence.legacy.search.gateway.criterion_handler.location.depth:
        parent: ezpublish.persistence.legacy.search.gateway.criterion_handler.base
        class: %ezpublish.persistence.legacy.search.gateway.criterion_handler.location.depth.class%
        tags:
            - {name: ezpublish.persistence.legacy.search.gateway.criterion_handler.location}

    ezpublish.persistence.legacy.search.gateway.criterion_handler.location.location_id:
        parent: ezpublish.persistence.legacy.search.gateway.criterion_handler.base
        class: %ezpublish.persistence.legacy.search.gateway.criterion_handler.location.location_id.class%
        tags:
            - {name: ezpublish.persistence.legacy.search.gateway.criterion_handler.location}

    ezpublish.persistence.legacy.search.gateway.criterion_handler.location.is_main_location:
        parent: ezpublish.persistence.legacy.search.gateway.criterion_handler.base
        class: %ezpublish.persistence.legacy.search.gateway.criterion_handler.location.is_main_location.class%
        tags:
            - {name: ezpublish.persistence.legacy.search.gateway.criterion_handler.location}

    ezpublish.persistence.legacy.search.gateway.criterion_handler.location.parent_location_id:
        parent: ezpublish.persistence.legacy.search.gateway.criterion_handler.base
        class: %ezpublish.persistence.legacy.search.gateway.criterion_handler.location.parent_location_id.class%
        tags:
            - {name: ezpublish.persistence.legacy.search.gateway.criterion_handler.location}

    ezpublish.persistence.legacy.search.gateway.criterion_handler.location.priority:
        parent: ezpublish.persistence.legacy.search.gateway.criterion_handler.base
        class: %ezpublish.persistence.legacy.search.gateway.criterion_handler.location.priority.class%
        tags:
            - {name: ezpublish.persistence.legacy.search.gateway.criterion_handler.location}

    ezpublish.persistence.legacy.search.gateway.criterion_handler.location.location_remote_id:
        parent: ezpublish.persistence.legacy.search.gateway.criterion_handler.base
        class: %ezpublish.persistence.legacy.search.gateway.criterion_handler.location.location_remote_id.class%
        tags:
            - {name: ezpublish.persistence.legacy.search.gateway.criterion_handler.location}

    ezpublish.persistence.legacy.search.gateway.criterion_handler.location.subtree:
        parent: ezpublish.persistence.legacy.search.gateway.criterion_handler.base
        class: %ezpublish.persistence.legacy.search.gateway.criterion_handler.location.subtree.class%
        tags:
            - {name: ezpublish.persistence.legacy.search.gateway.criterion_handler.location}

    ezpublish.persistence.legacy.search.gateway.criterion_handler.location.visibility:
        parent: ezpublish.persistence.legacy.search.gateway.criterion_handler.base
        class: %ezpublish.persistence.legacy.search.gateway.criterion_handler.location.visibility.class%
        tags:
            - {name: ezpublish.persistence.legacy.search.gateway.criterion_handler.location}

    # Criterion field value handlers
    ezpublish.persistence.legacy.search.gateway.criterion_field_value_handler.collection.comma_separated:
        parent: ezpublish.persistence.legacy.search.gateway.criterion_field_value_handler.base
        class: %ezpublish.persistence.legacy.search.gateway.criterion_field_value_handler.collection.class%
        arguments:
            - ,
        tags:
            - {name: ezpublish.persistence.legacy.search.gateway.criterion_field_value_handler, alias: ezcountry}
            - {name: ezpublish.persistence.legacy.search.gateway.criterion_field_value_handler, alias: ezobjectrelationlist}

    ezpublish.persistence.legacy.search.gateway.criterion_field_value_handler.collection.hypen_separated:
        parent: ezpublish.persistence.legacy.search.gateway.criterion_field_value_handler.base
        class: %ezpublish.persistence.legacy.search.gateway.criterion_field_value_handler.collection.class%
        arguments:
            - -
        tags:
            - {name: ezpublish.persistence.legacy.search.gateway.criterion_field_value_handler, alias: ezselection}

    ezpublish.persistence.legacy.search.gateway.criterion_field_value_handler.composite:
        parent: ezpublish.persistence.legacy.search.gateway.criterion_field_value_handler.base
        class: %ezpublish.persistence.legacy.search.gateway.criterion_field_value_handler.composite.class%

    ezpublish.persistence.legacy.search.gateway.criterion_field_value_handler.simple:
        parent: ezpublish.persistence.legacy.search.gateway.criterion_field_value_handler.base
        class: %ezpublish.persistence.legacy.search.gateway.criterion_field_value_handler.simple.class%
        tags:
            - {name: ezpublish.persistence.legacy.search.gateway.criterion_field_value_handler, alias: ezboolean}
            - {name: ezpublish.persistence.legacy.search.gateway.criterion_field_value_handler, alias: ezdate}
            - {name: ezpublish.persistence.legacy.search.gateway.criterion_field_value_handler, alias: ezdatetime}
            - {name: ezpublish.persistence.legacy.search.gateway.criterion_field_value_handler, alias: ezemail}
            - {name: ezpublish.persistence.legacy.search.gateway.criterion_field_value_handler, alias: ezinteger}
            - {name: ezpublish.persistence.legacy.search.gateway.criterion_field_value_handler, alias: ezobjectrelation}
            - {name: ezpublish.persistence.legacy.search.gateway.criterion_field_value_handler, alias: eztime}

    ezpublish.persistence.legacy.search.gateway.criterion_field_value_handler.default:
        alias: ezpublish.persistence.legacy.search.gateway.criterion_field_value_handler.composite

    # Sort clause handler classes
    # Common
    ezpublish.persistence.legacy.search.gateway.sort_clause_handler.common.content_id:
        parent: ezpublish.persistence.legacy.search.gateway.sort_clause_handler.base
        class: %ezpublish.persistence.legacy.search.gateway.sort_clause_handler.common.content_id.class%
        tags:
            - {name: ezpublish.persistence.legacy.search.gateway.sort_clause_handler.content}
            - {name: ezpublish.persistence.legacy.search.gateway.sort_clause_handler.location}

    ezpublish.persistence.legacy.search.gateway.sort_clause_handler.common.content_name:
        parent: ezpublish.persistence.legacy.search.gateway.sort_clause_handler.base
        class: %ezpublish.persistence.legacy.search.gateway.sort_clause_handler.common.content_name.class%
        tags:
            - {name: ezpublish.persistence.legacy.search.gateway.sort_clause_handler.content}
            - {name: ezpublish.persistence.legacy.search.gateway.sort_clause_handler.location}

    ezpublish.persistence.legacy.search.gateway.sort_clause_handler.common.date_modified:
        parent: ezpublish.persistence.legacy.search.gateway.sort_clause_handler.base
        class: %ezpublish.persistence.legacy.search.gateway.sort_clause_handler.common.date_modified.class%
        tags:
            - {name: ezpublish.persistence.legacy.search.gateway.sort_clause_handler.content}
            - {name: ezpublish.persistence.legacy.search.gateway.sort_clause_handler.location}

    ezpublish.persistence.legacy.search.gateway.sort_clause_handler.common.date_published:
        parent: ezpublish.persistence.legacy.search.gateway.sort_clause_handler.base
        class: %ezpublish.persistence.legacy.search.gateway.sort_clause_handler.common.date_published.class%
        tags:
            - {name: ezpublish.persistence.legacy.search.gateway.sort_clause_handler.content}
            - {name: ezpublish.persistence.legacy.search.gateway.sort_clause_handler.location}

    ezpublish.persistence.legacy.search.gateway.sort_clause_handler.common.field:
        class: %ezpublish.persistence.legacy.search.gateway.sort_clause_handler.common.field.class%
        arguments:
            - @ezpublish.api.storage_engine.legacy.dbhandler
            - @ezpublish.spi.persistence.legacy.language.handler
        tags:
            - {name: ezpublish.persistence.legacy.search.gateway.sort_clause_handler.content}
            - {name: ezpublish.persistence.legacy.search.gateway.sort_clause_handler.location}

    ezpublish.persistence.legacy.search.gateway.sort_clause_handler.common.map_location_distance:
        class: %ezpublish.persistence.legacy.search.gateway.sort_clause_handler.common.map_location_distance.class%
        arguments:
            - @ezpublish.api.storage_engine.legacy.dbhandler
            - @ezpublish.spi.persistence.legacy.language.handler
        tags:
            - {name: ezpublish.persistence.legacy.search.gateway.sort_clause_handler.content}
            - {name: ezpublish.persistence.legacy.search.gateway.sort_clause_handler.location}

    ezpublish.persistence.legacy.search.gateway.sort_clause_handler.common.section_identifier:
        parent: ezpublish.persistence.legacy.search.gateway.sort_clause_handler.base
        class: %ezpublish.persistence.legacy.search.gateway.sort_clause_handler.common.section_identifier.class%
        tags:
            - {name: ezpublish.persistence.legacy.search.gateway.sort_clause_handler.content}
            - {name: ezpublish.persistence.legacy.search.gateway.sort_clause_handler.location}

    ezpublish.persistence.legacy.search.gateway.sort_clause_handler.common.section_name:
        parent: ezpublish.persistence.legacy.search.gateway.sort_clause_handler.base
        class: %ezpublish.persistence.legacy.search.gateway.sort_clause_handler.common.section_name.class%
        tags:
            - {name: ezpublish.persistence.legacy.search.gateway.sort_clause_handler.content}
            - {name: ezpublish.persistence.legacy.search.gateway.sort_clause_handler.location}

    # Content
    ezpublish.persistence.legacy.search.gateway.sort_clause_handler.content.location_depth:
        parent: ezpublish.persistence.legacy.search.gateway.sort_clause_handler.base
        class: %ezpublish.persistence.legacy.search.gateway.sort_clause_handler.content.location_depth.class%
        tags:
            - {name: ezpublish.persistence.legacy.search.gateway.sort_clause_handler.content}

    ezpublish.persistence.legacy.search.gateway.sort_clause_handler.content.location_path_string:
        parent: ezpublish.persistence.legacy.search.gateway.sort_clause_handler.base
        class: %ezpublish.persistence.legacy.search.gateway.sort_clause_handler.content.location_path_string.class%
        tags:
            - {name: ezpublish.persistence.legacy.search.gateway.sort_clause_handler.content}

    ezpublish.persistence.legacy.search.gateway.sort_clause_handler.content.location_priority:
        parent: ezpublish.persistence.legacy.search.gateway.sort_clause_handler.base
        class: %ezpublish.persistence.legacy.search.gateway.sort_clause_handler.content.location_priority.class%
        tags:
            - {name: ezpublish.persistence.legacy.search.gateway.sort_clause_handler.content}

    # Location
    ezpublish.persistence.legacy.search.gateway.sort_clause_handler.location.id:
        parent: ezpublish.persistence.legacy.search.gateway.sort_clause_handler.base
        class: %ezpublish.persistence.legacy.search.gateway.sort_clause_handler.location.id.class%
        tags:
            - {name: ezpublish.persistence.legacy.search.gateway.sort_clause_handler.location}

    ezpublish.persistence.legacy.search.gateway.sort_clause_handler.location.depth:
        parent: ezpublish.persistence.legacy.search.gateway.sort_clause_handler.base
        class: %ezpublish.persistence.legacy.search.gateway.sort_clause_handler.location.depth.class%
        tags:
            - {name: ezpublish.persistence.legacy.search.gateway.sort_clause_handler.location}

    ezpublish.persistence.legacy.search.gateway.sort_clause_handler.location.path:
        parent: ezpublish.persistence.legacy.search.gateway.sort_clause_handler.base
        class: %ezpublish.persistence.legacy.search.gateway.sort_clause_handler.location.path.class%
        tags:
            - {name: ezpublish.persistence.legacy.search.gateway.sort_clause_handler.location}

    ezpublish.persistence.legacy.search.gateway.sort_clause_handler.location.is_main_location:
        parent: ezpublish.persistence.legacy.search.gateway.sort_clause_handler.base
        class: %ezpublish.persistence.legacy.search.gateway.sort_clause_handler.location.is_main_location.class%
        tags:
            - {name: ezpublish.persistence.legacy.search.gateway.sort_clause_handler.location}

    ezpublish.persistence.legacy.search.gateway.sort_clause_handler.location.priority:
        parent: ezpublish.persistence.legacy.search.gateway.sort_clause_handler.base
        class: %ezpublish.persistence.legacy.search.gateway.sort_clause_handler.location.priority.class%
        tags:
            - {name: ezpublish.persistence.legacy.search.gateway.sort_clause_handler.location}

    ezpublish.persistence.legacy.search.gateway.sort_clause_handler.location.visibility:
        parent: ezpublish.persistence.legacy.search.gateway.sort_clause_handler.base
        class: %ezpublish.persistence.legacy.search.gateway.sort_clause_handler.location.visibility.class%
        tags:
            - {name: ezpublish.persistence.legacy.search.gateway.sort_clause_handler.location}
